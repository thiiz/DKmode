<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Site List Management Test</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
      max-width: 800px;
      margin: 40px auto;
      padding: 20px;
      background-color: #f5f5f5;
    }

    h1 {
      color: #333;
      border-bottom: 3px solid #4CAF50;
      padding-bottom: 10px;
    }

    .test-section {
      background: white;
      padding: 20px;
      margin: 20px 0;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    h2 {
      color: #4CAF50;
      margin-top: 0;
    }

    .test-item {
      margin: 15px 0;
      padding: 10px;
      background: #f9f9f9;
      border-left: 4px solid #4CAF50;
    }

    .test-item h3 {
      margin: 0 0 10px 0;
      color: #333;
      font-size: 16px;
    }

    .test-item p {
      margin: 5px 0;
      color: #666;
      line-height: 1.6;
    }

    .expected {
      background: #e8f5e9;
      padding: 10px;
      border-radius: 4px;
      margin-top: 10px;
    }

    .expected strong {
      color: #2e7d32;
    }

    code {
      background: #f5f5f5;
      padding: 2px 6px;
      border-radius: 3px;
      font-family: 'Courier New', monospace;
      color: #d32f2f;
    }

    .checklist {
      list-style: none;
      padding: 0;
    }

    .checklist li {
      padding: 8px 0;
      border-bottom: 1px solid #eee;
    }

    .checklist li:before {
      content: "‚òê ";
      color: #4CAF50;
      font-weight: bold;
      margin-right: 8px;
    }

    .note {
      background: #fff3cd;
      border-left: 4px solid #ffc107;
      padding: 12px;
      margin: 15px 0;
      border-radius: 4px;
    }

    .note strong {
      color: #856404;
    }
  </style>
</head>

<body>
  <h1>üß™ Site List Management UI Test</h1>

  <div class="note">
    <strong>Test Purpose:</strong> Verify that the site list management UI (whitelist and blacklist) works correctly
    with proper validation, storage, and user feedback.
  </div>

  <div class="test-section">
    <h2>Test Instructions</h2>
    <ol>
      <li>Build the extension: <code>npm run build</code></li>
      <li>Load the extension in Chrome from the <code>dist</code> folder</li>
      <li>Click the extension icon to open the popup</li>
      <li>Scroll down to the "Site Management" section</li>
      <li>Follow the test cases below</li>
    </ol>
  </div>

  <div class="test-section">
    <h2>Test Case 1: Whitelist - Add Valid Site</h2>
    <div class="test-item">
      <h3>Steps:</h3>
      <p>1. In the Whitelist section, type <code>example.com</code> in the input field</p>
      <p>2. Click the "Add" button (or press Enter)</p>

      <div class="expected">
        <strong>Expected Result:</strong>
        <ul>
          <li>The site <code>example.com</code> appears in the whitelist</li>
          <li>The input field is cleared</li>
          <li>The site is saved to chrome.storage.sync</li>
        </ul>
      </div>
    </div>
  </div>

  <div class="test-section">
    <h2>Test Case 2: Whitelist - Add Multiple Sites</h2>
    <div class="test-item">
      <h3>Steps:</h3>
      <p>1. Add <code>github.com</code> to the whitelist</p>
      <p>2. Add <code>stackoverflow.com</code> to the whitelist</p>
      <p>3. Add <code>reddit.com</code> to the whitelist</p>

      <div class="expected">
        <strong>Expected Result:</strong>
        <ul>
          <li>All three sites appear in the whitelist</li>
          <li>Sites are displayed in a scrollable list</li>
          <li>Each site has a "Remove" button</li>
        </ul>
      </div>
    </div>
  </div>

  <div class="test-section">
    <h2>Test Case 3: Whitelist - Invalid Hostname Validation</h2>
    <div class="test-item">
      <h3>Steps:</h3>
      <p>Try adding each of these invalid hostnames:</p>
      <ul>
        <li><code>https://example.com</code> (contains protocol)</li>
        <li><code>example.com/path</code> (contains path)</li>
        <li><code>example com</code> (contains space)</li>
        <li><code>-example.com</code> (starts with hyphen)</li>
        <li><code>example..com</code> (double dots)</li>
        <li>(empty string)</li>
      </ul>

      <div class="expected">
        <strong>Expected Result:</strong>
        <ul>
          <li>An alert appears: "Invalid hostname format. Please enter a valid domain (e.g., example.com)"</li>
          <li>The site is NOT added to the list</li>
          <li>The input field retains the invalid value</li>
        </ul>
      </div>
    </div>
  </div>

  <div class="test-section">
    <h2>Test Case 4: Whitelist - Duplicate Detection</h2>
    <div class="test-item">
      <h3>Steps:</h3>
      <p>1. Add <code>example.com</code> to the whitelist (if not already added)</p>
      <p>2. Try to add <code>example.com</code> again</p>
      <p>3. Try to add <code>EXAMPLE.COM</code> (uppercase)</p>

      <div class="expected">
        <strong>Expected Result:</strong>
        <ul>
          <li>An alert appears: "example.com is already in the whitelist"</li>
          <li>The duplicate is NOT added</li>
          <li>Case-insensitive detection works (EXAMPLE.COM is treated as duplicate)</li>
        </ul>
      </div>
    </div>
  </div>

  <div class="test-section">
    <h2>Test Case 5: Whitelist - Remove Site</h2>
    <div class="test-item">
      <h3>Steps:</h3>
      <p>1. Click the "Remove" button next to <code>example.com</code></p>

      <div class="expected">
        <strong>Expected Result:</strong>
        <ul>
          <li>The site is removed from the whitelist</li>
          <li>The updated list is saved to chrome.storage.sync</li>
          <li>If the list is now empty, "No sites in whitelist" message appears</li>
        </ul>
      </div>
    </div>
  </div>

  <div class="test-section">
    <h2>Test Case 6: Whitelist - Current Site Indicator</h2>
    <div class="test-item">
      <h3>Steps:</h3>
      <p>1. Navigate to <code>example.com</code> in a tab</p>
      <p>2. Open the extension popup</p>
      <p>3. Add <code>example.com</code> to the whitelist (if not already added)</p>

      <div class="expected">
        <strong>Expected Result:</strong>
        <ul>
          <li>The <code>example.com</code> entry has a yellow background</li>
          <li>A "(current)" badge appears next to the site name</li>
          <li>This helps users identify the current site in the list</li>
        </ul>
      </div>
    </div>
  </div>

  <div class="test-section">
    <h2>Test Case 7: Blacklist - Add Valid Site</h2>
    <div class="test-item">
      <h3>Steps:</h3>
      <p>1. In the Blacklist section, type <code>ads.example.com</code> in the input field</p>
      <p>2. Click the "Add" button (or press Enter)</p>

      <div class="expected">
        <strong>Expected Result:</strong>
        <ul>
          <li>The site <code>ads.example.com</code> appears in the blacklist</li>
          <li>The "Add" button has a red color (different from whitelist)</li>
          <li>The blacklist title is red</li>
          <li>The site is saved to chrome.storage.sync</li>
        </ul>
      </div>
    </div>
  </div>

  <div class="test-section">
    <h2>Test Case 8: Blacklist - All Validation Works</h2>
    <div class="test-item">
      <h3>Steps:</h3>
      <p>1. Try adding invalid hostnames to the blacklist (same as Test Case 3)</p>
      <p>2. Try adding a duplicate to the blacklist</p>

      <div class="expected">
        <strong>Expected Result:</strong>
        <ul>
          <li>Same validation behavior as whitelist</li>
          <li>Invalid hostnames are rejected with alert</li>
          <li>Duplicates are rejected with alert</li>
        </ul>
      </div>
    </div>
  </div>

  <div class="test-section">
    <h2>Test Case 9: Keyboard Support</h2>
    <div class="test-item">
      <h3>Steps:</h3>
      <p>1. Type a valid hostname in the whitelist input</p>
      <p>2. Press the Enter key (instead of clicking Add)</p>

      <div class="expected">
        <strong>Expected Result:</strong>
        <ul>
          <li>The site is added to the whitelist</li>
          <li>Same behavior as clicking the Add button</li>
        </ul>
      </div>
    </div>
  </div>

  <div class="test-section">
    <h2>Test Case 10: Storage Persistence</h2>
    <div class="test-item">
      <h3>Steps:</h3>
      <p>1. Add several sites to both whitelist and blacklist</p>
      <p>2. Close the popup</p>
      <p>3. Reopen the popup</p>

      <div class="expected">
        <strong>Expected Result:</strong>
        <ul>
          <li>All previously added sites are still displayed</li>
          <li>The lists are loaded from chrome.storage.sync</li>
        </ul>
      </div>
    </div>
  </div>

  <div class="test-section">
    <h2>Test Case 11: Scrollable List</h2>
    <div class="test-item">
      <h3>Steps:</h3>
      <p>1. Add 10+ sites to the whitelist</p>

      <div class="expected">
        <strong>Expected Result:</strong>
        <ul>
          <li>The list becomes scrollable (max-height: 120px)</li>
          <li>A custom scrollbar appears</li>
          <li>All sites are accessible via scrolling</li>
        </ul>
      </div>
    </div>
  </div>

  <div class="test-section">
    <h2>Test Case 12: Empty State</h2>
    <div class="test-item">
      <h3>Steps:</h3>
      <p>1. Remove all sites from the whitelist</p>
      <p>2. Remove all sites from the blacklist</p>

      <div class="expected">
        <strong>Expected Result:</strong>
        <ul>
          <li>Whitelist shows: "No sites in whitelist"</li>
          <li>Blacklist shows: "No sites in blacklist"</li>
          <li>Messages are styled in italic gray text</li>
        </ul>
      </div>
    </div>
  </div>

  <div class="test-section">
    <h2>Test Case 13: UI Styling and Interactions</h2>
    <div class="test-item">
      <h3>Steps:</h3>
      <p>1. Hover over the "Add" button</p>
      <p>2. Hover over a site item in the list</p>
      <p>3. Hover over a "Remove" button</p>
      <p>4. Focus on the input field</p>

      <div class="expected">
        <strong>Expected Result:</strong>
        <ul>
          <li>Add button: darker background and slight upward movement on hover</li>
          <li>Site item: lighter background and slight right movement on hover</li>
          <li>Remove button: red text and red border on hover</li>
          <li>Input field: green border and subtle shadow on focus</li>
        </ul>
      </div>
    </div>
  </div>

  <div class="test-section">
    <h2>Verification Checklist</h2>
    <ul class="checklist">
      <li>SiteListManager component is created and displays both lists</li>
      <li>SiteList component accepts type prop (whitelist or blacklist)</li>
      <li>Sites are displayed in a list for each type</li>
      <li>Input field and Add button are present for adding new sites</li>
      <li>Remove button is present for each site in the list</li>
      <li>Hostname validation works (rejects invalid formats)</li>
      <li>Duplicate detection works (case-insensitive)</li>
      <li>Sites are saved to chrome.storage.sync when added</li>
      <li>Sites are removed from chrome.storage.sync when deleted</li>
      <li>Current site is highlighted with yellow background and badge</li>
      <li>Enter key works to add sites</li>
      <li>Empty state messages display correctly</li>
      <li>List becomes scrollable with many items</li>
      <li>Styling matches the design (green for whitelist, red for blacklist)</li>
      <li>All hover and focus states work correctly</li>
    </ul>
  </div>

  <div class="test-section">
    <h2>Requirements Coverage</h2>
    <div class="test-item">
      <h3>Requirement 4.8</h3>
      <p>WHEN the popup displays THEN the system SHALL show a list of whitelisted/blacklisted sites</p>
      <p><strong>‚úì Covered:</strong> Both whitelist and blacklist are displayed in the popup</p>
    </div>

    <div class="test-item">
      <h3>Requirement 7.3</h3>
      <p>WHEN the popup displays site lists THEN the system SHALL show all whitelisted and blacklisted domains</p>
      <p><strong>‚úì Covered:</strong> All sites in both lists are displayed with proper UI</p>
    </div>
  </div>

  <div class="note">
    <strong>Note:</strong> This test verifies the UI implementation. Tasks 13 and 14 will handle the actual
    functionality of applying/removing dark theme based on whitelist/blacklist.
  </div>
</body>

</html>