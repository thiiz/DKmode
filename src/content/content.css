/* Dark Theme Extension - Content Styles */
/* Hybrid Approach: CSS Variables Override + Intelligent Fallback */

/* CSS Custom Properties - Our Dark Theme Palette */
:root {
  --dark-bg: #0d1117;
  --dark-bg-secondary: #161b22;
  --dark-bg-tertiary: #1f2428;
  --dark-text: #c9d1d9;
  --dark-text-secondary: #8b949e;
  --dark-border: #30363d;
  --dark-accent: #58a6ff;
}

/* Base Dark Theme - Override Common CSS Variables */
.dark-theme-active {
  /* Override site's CSS variables if they exist */
  --background: var(--dark-bg) !important;
  --background-color: var(--dark-bg) !important;
  --bg: var(--dark-bg) !important;
  --bg-color: var(--dark-bg) !important;
  --color-bg: var(--dark-bg) !important;
  --surface: var(--dark-bg) !important;
  
  --text: var(--dark-text) !important;
  --text-color: var(--dark-text) !important;
  --color-text: var(--dark-text) !important;
  --foreground: var(--dark-text) !important;
  
  --border: var(--dark-border) !important;
  --border-color: var(--dark-border) !important;
  --color-border: var(--dark-border) !important;
  
  --primary: var(--dark-accent) !important;
  --primary-color: var(--dark-accent) !important;
  --accent: var(--dark-accent) !important;
  --accent-color: var(--dark-accent) !important;
  
  /* Fallback for root element */
  background-color: var(--dark-bg) !important;
  color: var(--dark-text) !important;
  color-scheme: dark !important;
}

/* Intelligent Fallback - Only apply if element doesn't use CSS variables */
.dark-theme-active *:not(img):not(video):not(canvas):not(svg):not([style*="background"]) {
  background-color: var(--dark-bg) !important;
  color: var(--dark-text) !important;
  border-color: var(--dark-border) !important;
}

/* Input Elements Styling */
.dark-theme-active input,
.dark-theme-active textarea,
.dark-theme-active select {
  background-color: hsl(0, 0%, 15%) !important;
  color: var(--dark-text) !important;
  border: 1px solid var(--dark-border) !important;
}

.dark-theme-active input::placeholder,
.dark-theme-active textarea::placeholder {
  color: hsl(0, 0%, 60%) !important;
  opacity: 0.7 !important;
}

.dark-theme-active input:focus,
.dark-theme-active textarea:focus,
.dark-theme-active select:focus {
  outline-color: hsl(210, 100%, 60%) !important;
  border-color: hsl(210, 100%, 60%) !important;
}

/* Checkbox and Radio Inputs */
.dark-theme-active input[type="checkbox"],
.dark-theme-active input[type="radio"] {
  background-color: hsl(0, 0%, 20%) !important;
  border: 1px solid var(--dark-border) !important;
}

/* Link Styling */
.dark-theme-active a {
  color: hsl(210, 100%, 70%) !important;
}

.dark-theme-active a:visited {
  color: hsl(270, 100%, 70%) !important;
}

.dark-theme-active a:hover {
  color: hsl(210, 100%, 80%) !important;
}

/* Button Styling */
.dark-theme-active button,
.dark-theme-active input[type="button"],
.dark-theme-active input[type="submit"],
.dark-theme-active input[type="reset"] {
  background-color: hsl(0, 0%, 20%) !important;
  color: var(--dark-text) !important;
  border: 1px solid var(--dark-border) !important;
}

.dark-theme-active button:hover,
.dark-theme-active input[type="button"]:hover,
.dark-theme-active input[type="submit"]:hover,
.dark-theme-active input[type="reset"]:hover {
  background-color: hsl(0, 0%, 25%) !important;
}

/* Media Element Protection - Prevent Over-Inversion */
.dark-theme-active img,
.dark-theme-active video,
.dark-theme-active canvas {
  filter: brightness(0.9) !important;
}

/* SVG Elements */
.dark-theme-active svg {
  filter: invert(0.85) !important;
}

/* Code Blocks */
.dark-theme-active pre,
.dark-theme-active code {
  background-color: hsl(0, 0%, 12%) !important;
  color: hsl(120, 100%, 75%) !important;
  border: 1px solid var(--dark-border) !important;
}

/* Tables */
.dark-theme-active table {
  border-color: var(--dark-border) !important;
}

.dark-theme-active th,
.dark-theme-active td {
  background-color: hsl(0, 0%, 15%) !important;
  border-color: var(--dark-border) !important;
}

.dark-theme-active tr:nth-child(even) td {
  background-color: hsl(0, 0%, 18%) !important;
}

/* Headings */
.dark-theme-active h1,
.dark-theme-active h2,
.dark-theme-active h3,
.dark-theme-active h4,
.dark-theme-active h5,
.dark-theme-active h6 {
  color: var(--dark-text) !important;
}

/* Lists */
.dark-theme-active ul,
.dark-theme-active ol {
  color: var(--dark-text) !important;
}

/* Blockquotes */
.dark-theme-active blockquote {
  background-color: hsl(0, 0%, 15%) !important;
  border-left-color: hsl(210, 100%, 60%) !important;
  color: var(--dark-text) !important;
}

/* HR Elements */
.dark-theme-active hr {
  border-color: var(--dark-border) !important;
}

/* Selection */
.dark-theme-active ::selection {
  background-color: hsl(210, 100%, 40%) !important;
  color: white !important;
}

.dark-theme-active ::-moz-selection {
  background-color: hsl(210, 100%, 40%) !important;
  color: white !important;
}

/* Scrollbar Styling (Webkit browsers) */
.dark-theme-active ::-webkit-scrollbar {
  background-color: var(--dark-bg) !important;
}

.dark-theme-active ::-webkit-scrollbar-thumb {
  background-color: hsl(0, 0%, 40%) !important;
  border-radius: 4px !important;
}

.dark-theme-active ::-webkit-scrollbar-thumb:hover {
  background-color: hsl(0, 0%, 50%) !important;
}
